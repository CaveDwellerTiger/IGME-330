<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>XHR - Load Text</title>
	<style>
	body{
	  font-family: sans-serif;
	}
	</style>



</head>
<body>
	<h2>XHR - Load Json File</h2>
	<p>Note that because XHR is loading a local file, this and the other examples will have to be run off a web server rather than from your computer's hard drive (e.g. banjo.rit.edu or VSCode's liveserver etc)</p>
	
	<hr>
	<button id="json-button">Load Regular Json Data</button>
    <button id="uuid-json-button">Load UUID Json Data</button>

	<div id="output">Click button to load</div>

    <script>

        document.querySelector("#json-button").onclick = loadJsonXHR;
        document.querySelector("#uuid-json-button").onclick = loadUuidJson;

        const output = document.querySelector("#output");



        function loadJsonXHR(){
            console.log("Clicked btn1");
            const url = "./data/pet-names-uuid.json";

			const xhr = new XMLHttpRequest();

			xhr.onload = (e) => {
				//console.log(e.target.responseText);
				const text = e.target.responseText;

				let json;
				json = JSON.parse(text);

				//console.log(json);
				for (let key in json){
					console.log(`Key: ${key}`);
					console.log(`Title: ${item.title}`);
					console.log(`Type: ${item.type}`);
					console.log(`Popularity: ${item.popularity}`);
					console.log(`Names: ${item.nameList.join(', ')}`);
					console.log('---');
				}

				//console.log(catnames);

				//let html = "";
				//for (let i = 0; i <ol catnames.length; i++){
				//	html += `<li>${catnames[i]}</li>`;
				//}
				//output.innerHTML += `<ol>${html}</ol>`;

				// let unorderedList = document.createElement("ol");

				// console.log(unorderedList);
				// for(let name of catnames){
				// 	let nameItem = document.createElement("li");
				// 	let nameText = document.createTextNode(name);
				// 	nameItem.appendChild(nameText);

				// 	unorderedList.appendChild(nameItem);
				// 	//console.log(nameItem);
				// }

				// console.log(unorderedList);

				//function processName(name){
				//	console.log(name);
				//}
				//catnames.map(processName)

				//let html = "<ol>";
				//catnames.map( name=> {
				//	html += `<li>${name}</li>`;
				//	console.log(name)
				//});
				//html += "</ol>";
				//output.innerHTML = html;

				//let html = catnames.map( (name)=>{ return `<li>${name}</li>`}).join("");

				//let html = "<ol>" + catnames.map( name=> `<li>${name}</li>`).join("") + "</ol>";
				//output.innerHTML = html;
			}

			xhr.open("GET", url);
			xhr.send();

        }

        function loadUuidJson(){
            console.log("Clicked btn2");



        }
        
    </script>

<script>

</script>
</body>
</html>